<form id="announcementForm" method="post" action="{% if announcement %}{% url 'news:announcement_edit' announcement.id %}{% else %}{% url 'news:announcement_create' %}{% endif %}">
    {% csrf_token %}
    
    <div class="row">
        <div class="col-md-8">
            <!-- Title -->
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}" class="required">{{ form.title.label }}</label>
                {{ form.title }}
                {% if form.title.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.title.errors.0 }}
                    </div>
                {% endif %}
            </div>
            
            <!-- Content -->
            <div class="form-group">
                <label for="{{ form.content.id_for_label }}" class="required">{{ form.content.label }}</label>
                {{ form.content }}
                {% if form.content.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.content.errors.0 }}
                    </div>
                {% endif %}
            </div>
        </div>
        
        <div class="col-md-4">
            <!-- Type -->
            <div class="form-group">
                <label for="{{ form.type.id_for_label }}" class="required">{{ form.type.label }}</label>
                {{ form.type }}
                {% if form.type.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.type.errors.0 }}
                    </div>
                {% endif %}
            </div>
            
            <!-- Status -->
            <div class="form-group">
                <label for="{{ form.status.id_for_label }}" class="required">{{ form.status.label }}</label>
                {{ form.status }}
                {% if form.status.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.status.errors.0 }}
                    </div>
                {% endif %}
            </div>
            
            <!-- Priority -->
            <div class="form-group">
                <label for="{{ form.priority.id_for_label }}" class="required">{{ form.priority.label }}</label>
                {{ form.priority }}
                {% if form.priority.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.priority.errors.0 }}
                    </div>
                {% endif %}
            </div>
            
            <!-- Start Date -->
            <div class="form-group">
                <label for="{{ form.start_date.id_for_label }}">{{ form.start_date.label }}</label>
                {{ form.start_date }}
                {% if form.start_date.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.start_date.errors.0 }}
                    </div>
                {% endif %}
                <small class="form-text text-muted">Tanggal mulai pengumuman ditampilkan</small>
            </div>
            
            <!-- End Date -->
            <div class="form-group">
                <label for="{{ form.end_date.id_for_label }}">{{ form.end_date.label }}</label>
                {{ form.end_date }}
                {% if form.end_date.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.end_date.errors.0 }}
                    </div>
                {% endif %}
                <small class="form-text text-muted">Kosongkan jika tidak ada batas waktu</small>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <!-- Target Audience -->
            <div class="form-group">
                <label for="{{ form.target_audience.id_for_label }}">{{ form.target_audience.label }}</label>
                {{ form.target_audience }}
                {% if form.target_audience.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.target_audience.errors.0 }}
                    </div>
                {% endif %}
                <small class="form-text text-muted">Contoh: Semua warga, Ibu-ibu PKK, Remaja, dll</small>
            </div>
        </div>
        
        <div class="col-md-6">
            <!-- Contact Info -->
            <div class="form-group">
                <label for="{{ form.contact_info.id_for_label }}">{{ form.contact_info.label }}</label>
                {{ form.contact_info }}
                {% if form.contact_info.errors %}
                    <div class="invalid-feedback d-block">
                        {{ form.contact_info.errors.0 }}
                    </div>
                {% endif %}
                <small class="form-text text-muted">Nomor telepon atau email untuk informasi lebih lanjut</small>
            </div>
        </div>
    </div>
    
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
            <i class="fas fa-times"></i> Batal
        </button>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> 
            {% if announcement %}Perbarui{% else %}Simpan{% endif %}
        </button>
    </div>
</form>

<style>
.required:after {
    content: " *";
    color: red;
}

#id_title {
    font-size: 1.1em;
    font-weight: 500;
}

.form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

.modal-footer {
    border-top: 1px solid #dee2e6;
    margin-top: 1rem;
    padding-top: 1rem;
}
</style>