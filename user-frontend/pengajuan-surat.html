<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pengajuan Surat - Kampung Pulo Sarok</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="config.js"></script>
    <script src="api.js"></script>
</head>
<body class="bg-gray-100">
    <!-- Header Section -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center">
                <img src="asset/logo-kampung.svg" alt="Logo Kampung" class="h-12 w-12 mr-3">
                <div>
                    <h1 class="text-xl font-bold text-gray-800">Website Kampung Pulo Sarok</h1>
                    <p class="text-sm text-gray-600">Kecamatan Singkil Kabupaten Aceh Singkil</p>
                </div>
            </div>
            <nav>
                <a href="index.html" class="group flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 group-hover:animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <span class="group-hover:translate-x-1 transition-transform duration-300">Kembali ke Beranda</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- Pengajuan Surat Section -->
    <section class="container mx-auto px-4 py-8">
        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold mb-6 text-center text-blue-900">PENGAJUAN SURAT</h2>
            
            <!-- Informasi Layanan -->
            <div class="bg-blue-50 p-6 rounded-lg mb-8">
                <h3 class="text-xl font-semibold mb-4 text-blue-800">Tentang Layanan Pengajuan Surat</h3>
                <p class="text-gray-700 mb-4">
                    Layanan Pengajuan Surat memudahkan warga Kampung Pulo Sarok untuk mengajukan berbagai jenis surat 
                    keterangan yang dibutuhkan. Semua pengajuan akan diproses sesuai dengan prosedur yang berlaku 
                    dan dapat diambil sesuai dengan jadwal yang telah ditentukan.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                    <div class="text-center">
                        <div class="bg-blue-100 rounded-full p-3 inline-block mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                        </div>
                        <h4 class="font-semibold text-gray-800">Mudah Digunakan</h4>
                        <p class="text-sm text-gray-600">Formulir online yang sederhana</p>
                    </div>
                    <div class="text-center">
                        <div class="bg-green-100 rounded-full p-3 inline-block mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h4 class="font-semibold text-gray-800">Proses Cepat</h4>
                        <p class="text-sm text-gray-600">Selesai dalam 1-3 hari kerja</p>
                    </div>
                    <div class="text-center">
                        <div class="bg-purple-100 rounded-full p-3 inline-block mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                            </svg>
                        </div>
                        <h4 class="font-semibold text-gray-800">Dapat Dilacak</h4>
                        <p class="text-sm text-gray-600">Status pengajuan dapat dipantau</p>
                    </div>
                </div>
            </div>

            <!-- Formulir Pengajuan -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold mb-6 text-blue-800">Formulir Pengajuan Surat Baru</h3>
                <form id="letter-form" class="space-y-6">
                    <!-- Data Pemohon -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold mb-4 text-gray-800">Data Pemohon</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap *</label>
                                <input type="text" name="name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Masukkan nama lengkap" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">NIK *</label>
                                <input type="text" name="nik" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Nomor Induk Kependudukan" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nomor Telepon *</label>
                                <input type="tel" name="phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Contoh: 08123456789" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap *</label>
                                <input type="text" name="address" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Alamat lengkap sesuai KTP" required>
                            </div>
                        </div>
                    </div>

                    <!-- Jenis Surat -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold mb-4 text-gray-800">Jenis Surat yang Diajukan</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Jenis Surat *</label>
                                <select id="letter-type" name="letter_type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">-- Pilih Jenis Surat --</option>
                                    <!-- Options akan dimuat dari API -->
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Keperluan/Tujuan Surat *</label>
                                <textarea name="purpose" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Jelaskan keperluan atau tujuan penggunaan surat" required></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Keterangan Tambahan</label>
                                <textarea name="notes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Informasi tambahan yang diperlukan (tidak wajib)"></textarea>
                            </div>
                        </div>
                    </div>



                    <!-- Tombol Submit -->
                    <div class="text-center">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 transform hover:scale-105">
                            Ajukan Surat
                        </button>
                    </div>
                </form>
            </div>



            <!-- Informasi Penting -->
            <div class="bg-yellow-50 p-6 rounded-lg mb-8">
                <h3 class="text-xl font-semibold mb-4 text-yellow-800">Informasi Penting</h3>
                <div class="space-y-3 text-gray-700">
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p><strong>Waktu Proses:</strong> 1-3 hari kerja tergantung jenis surat</p>
                    </div>
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p><strong>Jam Pelayanan:</strong> Senin - Jumat, 08:00 - 15:00 WIB</p>
                    </div>
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                        <p><strong>Biaya:</strong> Gratis untuk warga Kampung Pulo Sarok</p>
                    </div>
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        <p><strong>Pengambilan:</strong> Surat dapat diambil di Balai Desa dengan membawa KTP asli</p>
                    </div>
                </div>
            </div>

            <!-- Tracking Section -->
            <div class="bg-green-50 p-6 rounded-lg mb-8">
                <h3 class="text-xl font-semibold mb-4 text-green-800">Lacak Status Pengajuan Surat</h3>
                <p class="text-gray-700 mb-4">Masukkan kode tracking untuk melihat status pengajuan surat Anda:</p>
                <form id="tracking-form" class="flex gap-4 items-end">
                    <div class="flex-1">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Kode Tracking</label>
                        <input type="text" id="tracking-code" name="tracking_code" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Masukkan kode tracking" required>
                    </div>
                    <button type="submit" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">
                        Lacak
                    </button>
                </form>
                <div id="tracking-result" class="mt-4"></div>
            </div>

            <!-- Kontak -->
            <div class="bg-blue-50 p-6 rounded-lg">
                <h3 class="text-xl font-semibold mb-4 text-blue-800">Kontak Informasi</h3>
                <p class="text-gray-700 mb-4">Untuk informasi lebih lanjut atau bantuan pengajuan surat, hubungi:</p>
                
                <!-- Loading Animation -->
                <div id="contact-loading" class="animate-pulse">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <div class="bg-gray-200 rounded-full p-2 mr-3 w-9 h-9"></div>
                            <div class="flex-1">
                                <div class="h-4 bg-gray-200 rounded mb-2"></div>
                                <div class="h-3 bg-gray-200 rounded w-3/4"></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="bg-gray-200 rounded-full p-2 mr-3 w-9 h-9"></div>
                            <div class="flex-1">
                                <div class="h-4 bg-gray-200 rounded mb-2"></div>
                                <div class="h-3 bg-gray-200 rounded w-3/4"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Dynamic Content Container -->
                <div id="contact-container" class="hidden"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
            <img src="asset/logo-kampung.svg" alt="Logo Footer" class="h-12 w-12 mx-auto mb-2">
            <p class="text-gray-600 text-sm">© 2025 Kampung Pulo Sarok. All rights reserved.</p>
        </div>
    </footer>

    <script src="config.js"></script>
    <script src="pengajuan-surat-api.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pageManager = new PengajuanSuratPageManager();
            pageManager.init();
        });
    </script>
</body>
</html>
